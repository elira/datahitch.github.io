(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"+P1L":function(t,e,r){"use strict";r.r(e),r.d(e,"UsersModule",(function(){return T}));var i=r("2kYt"),c=r("sEIs"),a=r("D57K"),o=r("iAde"),n=r("cePI"),s=r("FlRo"),u=r("xJCX"),l=r("EM62"),d=r("yDe4"),b=r("Iz9k"),m=r("gw1b"),f=r("fJbr");let h=(()=>{class t{constructor(t,e){this.store=t,this.stateHelperService=e}getUsers(){return this.store.selectSnapshot(m.a.getUsers)}getAllusers(){return Object(a.a)(this,void 0,void 0,(function*(){return yield this.stateHelperService.runAction(new b.c,m.a.getUsersError)}))}deleteUser(t){return Object(a.a)(this,void 0,void 0,(function*(){return yield this.stateHelperService.runAction(new b.b(t),m.a.getdeleteUserError)}))}addUserToAccount(t){return Object(a.a)(this,void 0,void 0,(function*(){return yield this.stateHelperService.runAction(new b.a(t),m.a.getAddUserToAccountError)}))}deleteUserFromAccount(t){return Object(a.a)(this,void 0,void 0,(function*(){return yield this.stateHelperService.runAction(new b.d(t),m.a.getRemoveUserFromAccountError)}))}}return t.\u0275fac=function(e){return new(e||t)(l.Zb(d.j),l.Zb(f.a))},t.\u0275prov=l.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),Object(a.b)([Object(d.f)(m.a.getUsers)],t.prototype,"users$",void 0),t})();var p=r("OZ4H"),v=r("EmTj"),g=r("29Wa"),S=r("Cd2c"),w=r("PBFl");function D(t,e){1&t&&(l.Vb(0,"th",17),l.Gc(1," ID "),l.Ub())}function U(t,e){if(1&t&&(l.Vb(0,"td",18),l.Gc(1),l.Ub()),2&t){const t=e.$implicit;l.Db(1),l.Ic(" ",t.id," ")}}function y(t,e){1&t&&(l.Vb(0,"th",17),l.Gc(1," Name "),l.Ub())}function E(t,e){if(1&t&&(l.Vb(0,"td",18),l.Gc(1),l.Ub()),2&t){const t=e.$implicit;l.Db(1),l.Ic(" ",t.userName," ")}}function k(t,e){1&t&&(l.Vb(0,"th",17),l.Gc(1," Email "),l.Ub())}function C(t,e){if(1&t&&(l.Vb(0,"td",18),l.Gc(1),l.Ub()),2&t){const t=e.$implicit;l.Db(1),l.Ic(" ",t.email," ")}}function V(t,e){1&t&&l.Qb(0,"th",19)}const A=function(t,e){return["/",t,e]};function j(t,e){if(1&t){const t=l.Wb();l.Vb(0,"td",18),l.Vb(1,"button",20),l.cc("click",(function(){l.wc(t);const r=e.$implicit;return l.gc(2).makeAdmin(r)})),l.Gc(2,"Make admin"),l.Ub(),l.Vb(3,"button",21),l.cc("click",(function(){l.wc(t);const r=e.$implicit;return l.gc(2).deleteUser(r)})),l.Gc(4,"Delete"),l.Ub(),l.Vb(5,"a",22),l.Gc(6,"Edit Privileges"),l.Ub(),l.Ub()}if(2&t){const t=e.$implicit,r=l.gc(2);l.Db(5),l.mc("routerLink",l.qc(1,A,r.userDetailsRoute,t.id))}}function I(t,e){1&t&&l.Qb(0,"tr",23)}function O(t,e){1&t&&l.Qb(0,"tr",24)}const G=function(){return[5,10,25,100]};function H(t,e){if(1&t&&(l.Vb(0,"div",5),l.Vb(1,"table",6),l.Tb(2,7),l.Ec(3,D,2,0,"th",8),l.Ec(4,U,2,1,"td",9),l.Sb(),l.Tb(5,10),l.Ec(6,y,2,0,"th",8),l.Ec(7,E,2,1,"td",9),l.Sb(),l.Tb(8,11),l.Ec(9,k,2,0,"th",8),l.Ec(10,C,2,1,"td",9),l.Sb(),l.Tb(11,12),l.Ec(12,V,1,0,"th",13),l.Ec(13,j,7,4,"td",9),l.Sb(),l.Ec(14,I,1,0,"tr",14),l.Ec(15,O,1,0,"tr",15),l.Ub(),l.Qb(16,"mat-paginator",16),l.Ub()),2&t){const t=l.gc();l.Db(1),l.mc("dataSource",t.dataSource),l.Db(13),l.mc("matHeaderRowDef",t.displayedColumns),l.Db(1),l.mc("matRowDefColumns",t.displayedColumns),l.Db(1),l.mc("pageSizeOptions",l.oc(4,G))}}const R=[{path:"",component:(()=>{class t{constructor(t,e,r){this.usersStateService=t,this.dialog=e,this.dhDialogService=r,this.ready=!1,this.displayedColumns=["id","name","email","actions"],this.userDetailsRoute=u.a.userDetails}ngOnInit(){return Object(a.a)(this,void 0,void 0,(function*(){if(this.dhDialogService.showLoading(),yield this.usersStateService.getAllusers())return void this.dhDialogService.showErrorMessage("Could not load users.");const t=this.usersStateService.getUsers();this.dataSource=new s.k(t),this.dhDialogService.hideLoading(),this.ready=!0,setTimeout(()=>{this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},10)}))}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}makeAdmin(){}revokeAllRights(){}deleteUser(){}update(){this.dataSource.data=this.usersStateService.getUsers()}}return t.\u0275fac=function(e){return new(e||t)(l.Pb(h),l.Pb(p.b),l.Pb(v.a))},t.\u0275cmp=l.Jb({type:t,selectors:[["dh-users"]],viewQuery:function(t,e){if(1&t&&(l.Jc(o.a,!0),l.Jc(n.a,!0)),2&t){let t;l.tc(t=l.dc())&&(e.paginator=t.first),l.tc(t=l.dc())&&(e.sort=t.first)}},decls:8,vars:1,consts:[[1,"p-4"],[1,"flex","justify-between"],["matInput","","placeholder","Account Name",3,"keyup"],["input",""],["class","mat-elevation-z8",4,"ngIf"],[1,"mat-elevation-z8"],["mat-table","","matSort","",1,"w-full",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","email"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-raised-button","","color","primary",1,"",3,"click"],["mat-raised-button","","color","warn",1,"ml-2",3,"click"],["mat-raised-button","","color","primary",1,"ml-2",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Vb(1,"div",1),l.Vb(2,"mat-form-field"),l.Vb(3,"mat-label"),l.Gc(4,"Filter"),l.Ub(),l.Vb(5,"input",2,3),l.cc("keyup",(function(t){return e.applyFilter(t)})),l.Ub(),l.Ub(),l.Ub(),l.Ec(7,H,17,5,"div",4),l.Ub()),2&t&&(l.Db(7),l.mc("ngIf",e.ready))},directives:[g.b,g.e,S.a,i.m,s.j,s.c,s.e,s.b,s.g,s.i,o.a,s.d,s.a,w.b,w.a,c.d,s.f,s.h],styles:[""]}),t})()}];let P=(()=>{class t{}return t.\u0275mod=l.Nb({type:t}),t.\u0275inj=l.Mb({factory:function(e){return new(e||t)},imports:[[c.e.forChild(R)],c.e]}),t})(),T=(()=>{class t{}return t.\u0275mod=l.Nb({type:t}),t.\u0275inj=l.Mb({factory:function(e){return new(e||t)},imports:[[i.c,P,s.l,g.d,o.b,S.b,w.c]]}),t})()}}]);