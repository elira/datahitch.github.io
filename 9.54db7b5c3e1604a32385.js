(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{vtxb:function(e,i,t){"use strict";t.r(i),t.d(i,"ApiKeysModule",(function(){return v}));var c=t("2kYt"),o=t("sEIs"),a=t("D57K"),n=t("xJCX"),r=t("EM62"),d=t("2Bju"),s=t("EmTj"),h=t("PBFl"),l=t("bFHC");function b(e,i){if(1&e){const e=r.Wb();r.Vb(0,"div",6),r.Vb(1,"div",7),r.Gc(2),r.Vb(3,"button",8),r.cc("click",(function(){r.wc(e);const t=i.$implicit;return r.gc(2).copyToClipBoard(t.apiKey)})),r.Vb(4,"mat-icon"),r.Gc(5,"content_copy"),r.Ub(),r.Ub(),r.Ub(),r.Vb(6,"div",9),r.Gc(7),r.hc(8,"date"),r.Ub(),r.Vb(9,"div",9),r.Vb(10,"button",10),r.cc("click",(function(){r.wc(e);const t=i.$implicit;return r.gc(2).extend(t.apiKey)})),r.Gc(11,"Extend"),r.Ub(),r.Vb(12,"button",11),r.cc("click",(function(){r.wc(e);const t=i.$implicit;return r.gc(2).delete(t.apiKey)})),r.Gc(13,"Delete"),r.Ub(),r.Ub(),r.Ub()}if(2&e){const e=i.$implicit;r.Db(2),r.Ic("",e.apiKey," "),r.Db(5),r.Hc(r.ic(8,2,e.expiration))}}function u(e,i){if(1&e&&(r.Tb(0),r.Vb(1,"div",4),r.Ec(2,b,14,4,"div",5),r.Ub(),r.Sb()),2&e){const e=i.ngIf;r.Db(2),r.mc("ngForOf",e)}}const p=[{path:"",component:(()=>{class e{constructor(e,i,t){this.activatedRoute=e,this.apiKeyStateService=i,this.dhDialogService=t}ngOnInit(){return Object(a.a)(this,void 0,void 0,(function*(){this.accountId=this.activatedRoute.snapshot.params[n.a.accountId],yield this.apiKeyStateService.setAuth(this.accountId),this.dhDialogService.showLoading();var e=yield this.apiKeyStateService.getApiKeysForAccount({account:this.accountId});this.dhDialogService.hideLoading(),e&&this.dhDialogService.showErrorMessage("Could not load api keys.")}))}createKey(){return Object(a.a)(this,void 0,void 0,(function*(){this.dhDialogService.showLoading();var e=yield this.apiKeyStateService.createApiKey({account:this.accountId});this.dhDialogService.hideLoading(),e?this.dhDialogService.showErrorMessage("Could not create new key."):this.dhDialogService.showMessage("New key created.")}))}copyToClipBoard(e){var i=e,t=document.createElement("input");t.value=i,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),this.dhDialogService.showMessage("key copied to clipboard")}delete(e){return Object(a.a)(this,void 0,void 0,(function*(){this.dhDialogService.showLoading();var i=yield this.apiKeyStateService.deleteApiKey({accountId:this.accountId,apiKeyId:e});this.dhDialogService.hideLoading(),i?this.dhDialogService.showErrorMessage("Could not delete api key."):this.dhDialogService.showMessage("Api key deleted.")}))}extend(e){return Object(a.a)(this,void 0,void 0,(function*(){this.dhDialogService.showLoading();var i=yield this.apiKeyStateService.extendApiKey({accountId:this.accountId,apiKeyId:e});this.dhDialogService.hideLoading(),i?this.dhDialogService.showErrorMessage("Could not extend api key."):this.dhDialogService.showMessage("Api Key extended.")}))}}return e.\u0275fac=function(i){return new(i||e)(r.Pb(o.a),r.Pb(d.a),r.Pb(s.a))},e.\u0275cmp=r.Jb({type:e,selectors:[["dh-api-keys"]],decls:8,vars:4,consts:[[1,"p-20"],[1,"font-medium"],["mat-raised-button","","color","primary",1,"float-right","mr-20",3,"click"],[4,"ngIf"],[1,"border-2","m-20","ng-star-inserted","rounded"],["class","border-b flex items-center last:border-b-0 p-3 key-item",4,"ngFor","ngForOf"],[1,"border-b","flex","items-center","last:border-b-0","p-3","key-item"],[1,"flex-1"],["mat-icon-button","","color","primary","aria-label","Copy to clipboard",3,"click"],[1,"m-2"],["mat-raised-button","","color","primary",1,"m-2",3,"click"],["mat-raised-button","","color","warn",1,"m-2",3,"click"]],template:function(e,i){1&e&&(r.Vb(0,"h1",0),r.Gc(1,"Api keys for account: "),r.Vb(2,"span",1),r.Gc(3),r.Ub(),r.Ub(),r.Vb(4,"button",2),r.cc("click",(function(){return i.createKey()})),r.Gc(5,"Create Api Key"),r.Ub(),r.Ec(6,u,3,1,"ng-container",3),r.hc(7,"async")),2&e&&(r.Db(3),r.Hc(i.accountId),r.Db(3),r.mc("ngIf",r.ic(7,2,i.apiKeyStateService.apiKeys$)))},directives:[h.b,c.m,c.l,l.a],pipes:[c.b,c.e],styles:[""]}),e})()}];let y=(()=>{class e{}return e.\u0275mod=r.Nb({type:e}),e.\u0275inj=r.Mb({factory:function(i){return new(i||e)},imports:[[o.d.forChild(p)],o.d]}),e})(),v=(()=>{class e{}return e.\u0275mod=r.Nb({type:e}),e.\u0275inj=r.Mb({factory:function(i){return new(i||e)},imports:[[c.c,y,h.c,l.b]]}),e})()}}]);